@using Syncfusion.Blazor.Inputs
@using Syncfusion.Blazor.Buttons
@using Syncfusion.Blazor.Grids
@using Syncfusion.Blazor.DropDowns
@using Nalam360Enterprise.UI.Core.Security
@inject IPermissionService PermissionService
@inject IAuditService AuditService

<div class="n360-automated-coding" @attributes="GetHtmlAttributes()">
    @if (!string.IsNullOrEmpty(RequiredPermission))
    {
        if (!HasPermission && HideIfNoPermission)
        {
            return;
        }
        if (!HasPermission)
        {
            <div class="alert alert-warning">
                <i class="fas fa-lock"></i> You don't have permission to use automated coding.
            </div>
            return;
        }
    }

    <div class="coding-header">
        <div class="header-left">
            <h3>
                <i class="fas fa-code"></i> AI Automated Medical Coding
                @if (UseRealAI)
                {
                    <span class="badge bg-success ms-2">ðŸ¤– Real AI</span>
                }
            </h3>
            <p class="text-muted">Automatic ICD-10 and CPT code assignment from clinical documentation using NLP and machine learning</p>
        </div>
        <div class="header-right">
            <label class="me-3">
                Coding Type:
                <SfDropDownList TValue="string" TItem="string"
                                DataSource="@CodingTypes"
                                @bind-Value="SelectedCodingType"
                                Width="200px">
                </SfDropDownList>
            </label>
            <SfButton CssClass="e-outline-primary" @onclick="LoadSampleNote">
                <i class="fas fa-file-medical"></i> Load Sample Note
            </SfButton>
        </div>
    </div>

    <div class="coding-interface">
        <div class="documentation-input">
            <div class="input-header">
                <h5>Clinical Documentation</h5>
                <div class="input-actions">
                    <SfButton CssClass="e-small e-outline-secondary" @onclick="ClearDocumentation">
                        <i class="fas fa-times"></i> Clear
                    </SfButton>
                </div>
            </div>
            <SfTextBox @bind-Value="ClinicalDocumentation"
                       Placeholder="Paste clinical documentation here (H&P, progress note, operative note, discharge summary, etc.)"
                       CssClass="documentation-textarea"
                       Multiline="true">
            </SfTextBox>
            <div class="char-count">@ClinicalDocumentation.Length characters</div>
            <div class="analyze-button-container">
                <SfButton CssClass="e-primary e-large" @onclick="AnalyzeAndCode" Disabled="@(string.IsNullOrWhiteSpace(ClinicalDocumentation) || IsAnalyzing)">
                    @if (IsAnalyzing)
                    {
                        <span><i class="fas fa-spinner fa-spin"></i> Analyzing...</span>
                    }
                    else
                    {
                        <span><i class="fas fa-magic"></i> Analyze & Generate Codes</span>
                    }
                </SfButton>
            </div>
        </div>

        @if (IsAnalyzing)
        {
            <div class="analysis-progress">
                <div class="progress-steps">
                    <div class="progress-step @(AnalysisStep >= 1 ? "active" : "")">
                        <div class="step-icon">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <div class="step-label">Parsing Documentation</div>
                    </div>
                    <div class="progress-step @(AnalysisStep >= 2 ? "active" : "")">
                        <div class="step-icon">
                            <i class="fas fa-brain"></i>
                        </div>
                        <div class="step-label">NLP Analysis</div>
                    </div>
                    <div class="progress-step @(AnalysisStep >= 3 ? "active" : "")">
                        <div class="step-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <div class="step-label">Entity Extraction</div>
                    </div>
                    <div class="progress-step @(AnalysisStep >= 4 ? "active" : "")">
                        <div class="step-icon">
                            <i class="fas fa-code"></i>
                        </div>
                        <div class="step-label">Code Mapping</div>
                    </div>
                    <div class="progress-step @(AnalysisStep >= 5 ? "active" : "")">
                        <div class="step-icon">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="step-label">Validation</div>
                    </div>
                </div>
            </div>
        }

        @if (CodingResult != null)
        {
            <div class="coding-results">
                <div class="results-summary">
                    <div class="summary-card icd">
                        <div class="card-icon">
                            <i class="fas fa-diagnoses"></i>
                        </div>
                        <div class="card-content">
                            <div class="card-value">@CodingResult.ICD10Codes.Count</div>
                            <div class="card-label">ICD-10 Codes</div>
                            <div class="card-subtext">Diagnosis codes identified</div>
                        </div>
                    </div>
                    <div class="summary-card cpt">
                        <div class="card-icon">
                            <i class="fas fa-procedures"></i>
                        </div>
                        <div class="card-content">
                            <div class="card-value">@CodingResult.CPTCodes.Count</div>
                            <div class="card-label">CPT Codes</div>
                            <div class="card-subtext">Procedure codes identified</div>
                        </div>
                    </div>
                    <div class="summary-card confidence">
                        <div class="card-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="card-content">
                            <div class="card-value">@CodingResult.OverallConfidence.ToString("F1")%</div>
                            <div class="card-label">Avg Confidence</div>
                            <div class="card-subtext">Coding accuracy score</div>
                        </div>
                    </div>
                    <div class="summary-card processing">
                        <div class="card-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="card-content">
                            <div class="card-value">@CodingResult.ProcessingTime.ToString("F1")s</div>
                            <div class="card-label">Processing Time</div>
                            <div class="card-subtext">Analysis duration</div>
                        </div>
                    </div>
                </div>

                <div class="codes-section">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <button class="nav-link @(ActiveTab == "ICD10" ? "active" : "")" 
                                    @onclick='() => SetActiveTab("ICD10")'>
                                <i class="fas fa-diagnoses"></i> ICD-10 Diagnosis Codes
                            </button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link @(ActiveTab == "CPT" ? "active" : "")" 
                                    @onclick='() => SetActiveTab("CPT")'>
                                <i class="fas fa-procedures"></i> CPT Procedure Codes
                            </button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link @(ActiveTab == "Entities" ? "active" : "")" 
                                    @onclick='() => SetActiveTab("Entities")'>
                                <i class="fas fa-tags"></i> Extracted Entities
                            </button>
                        </li>
                    </ul>

                    <div class="tab-content">
                        @if (ActiveTab == "ICD10")
                        {
                            <div class="codes-grid">
                                <div class="grid-header">
                                    <h5>ICD-10 Diagnosis Codes (@CodingResult.ICD10Codes.Count)</h5>
                                    <SfButton CssClass="e-small e-primary" @onclick="ExportCodes">
                                        <i class="fas fa-download"></i> Export All Codes
                                    </SfButton>
                                </div>
                                <SfGrid DataSource="@CodingResult.ICD10Codes" AllowSorting="true">
                                    <GridColumns>
                                        <GridColumn HeaderText="Priority" Width="100">
                                            <Template>
                                                @{
                                                    var code = context as MedicalCode;
                                                    var priorityClass = code!.IsPrimary ? "primary" : "secondary";
                                                    <span class="badge badge-@priorityClass">@(code.IsPrimary ? "Primary" : "Secondary")</span>
                                                }
                                            </Template>
                                        </GridColumn>
                                        <GridColumn Field="@nameof(MedicalCode.Code)" HeaderText="ICD-10 Code" Width="120"></GridColumn>
                                        <GridColumn Field="@nameof(MedicalCode.Description)" HeaderText="Description" Width="350"></GridColumn>
                                        <GridColumn HeaderText="Confidence" Width="120">
                                            <Template>
                                            @{
                                                var code = context as MedicalCode;
                                                var confidenceColor = code!.Confidence >= 90 ? "success" : code.Confidence >= 75 ? "warning" : "danger";
                                            }
                                            <div class="confidence-indicator">
                                                <span class="text-@confidenceColor fw-bold">@(code.Confidence.ToString("F1"))%</span>
                                                <div class="progress mt-1" style="height: 4px;">
                                                    <div class="progress-bar bg-@confidenceColor" style="width: @(code.Confidence)%"></div>
                                                </div>
                                            </div>
                                        </Template>
                                    </GridColumn>
                                        <GridColumn Field="@nameof(MedicalCode.EvidenceText)" HeaderText="Supporting Evidence" Width="300"></GridColumn>
                                        <GridColumn HeaderText="Actions" Width="150">
                                            <Template>
                                                @{
                                                    var code = context as MedicalCode;
                                                }
                                                <div class="action-buttons">
                                                    <button class="btn btn-sm btn-outline-success" @onclick="() => AcceptCode(code!)" title="Accept">
                                                        <i class="fas fa-check"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-outline-danger" @onclick="() => RejectCode(code!)" title="Reject">
                                                        <i class="fas fa-times"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-outline-info" @onclick="() => ViewDetails(code!)" title="Details">
                                                        <i class="fas fa-info-circle"></i>
                                                    </button>
                                                </div>
                                            </Template>
                                        </GridColumn>
                                    </GridColumns>
                                </SfGrid>
                            </div>
                        }

                        @if (ActiveTab == "CPT")
                        {
                            <div class="codes-grid">
                                <div class="grid-header">
                                    <h5>CPT Procedure Codes (@CodingResult.CPTCodes.Count)</h5>
                                    <SfButton CssClass="e-small e-primary" @onclick="ExportCodes">
                                        <i class="fas fa-download"></i> Export All Codes
                                    </SfButton>
                                </div>
                                <SfGrid DataSource="@CodingResult.CPTCodes" AllowSorting="true">
                                    <GridColumns>
                                        <GridColumn Field="@nameof(MedicalCode.Code)" HeaderText="CPT Code" Width="120"></GridColumn>
                                        <GridColumn Field="@nameof(MedicalCode.Description)" HeaderText="Description" Width="350"></GridColumn>
                                        <GridColumn HeaderText="Confidence" Width="120">
                                            <Template>
                                                @{
                                                    var code = context as MedicalCode;
                                                    var confidenceColor = code!.Confidence >= 90 ? "success" : code.Confidence >= 75 ? "warning" : "danger";
                                                }
                                                <div class="confidence-indicator">
                                                    <span class="text-@confidenceColor fw-bold">@(code.Confidence.ToString("F1"))%</span>
                                                    <div class="progress mt-1" style="height: 4px;">
                                                        <div class="progress-bar bg-@confidenceColor" style="width: @(code.Confidence)%"></div>
                                                    </div>
                                                </div>
                                            </Template>
                                        </GridColumn>
                                        <GridColumn Field="@nameof(MedicalCode.Modifiers)" HeaderText="Modifiers" Width="120"></GridColumn>
                                        <GridColumn Field="@nameof(MedicalCode.EvidenceText)" HeaderText="Supporting Evidence" Width="300"></GridColumn>
                                        <GridColumn HeaderText="Actions" Width="150">
                                            <Template>
                                                @{
                                                    var code = context as MedicalCode;
                                                }
                                                <div class="action-buttons">
                                                    <button class="btn btn-sm btn-outline-success" @onclick="() => AcceptCode(code!)" title="Accept">
                                                        <i class="fas fa-check"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-outline-danger" @onclick="() => RejectCode(code!)" title="Reject">
                                                        <i class="fas fa-times"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-outline-info" @onclick="() => ViewDetails(code!)" title="Details">
                                                        <i class="fas fa-info-circle"></i>
                                                    </button>
                                                </div>
                                            </Template>
                                        </GridColumn>
                                    </GridColumns>
                                </SfGrid>
                            </div>
                        }

                        @if (ActiveTab == "Entities")
                        {
                            <div class="entities-section">
                                <h5>Extracted Clinical Entities</h5>
                                <div class="entities-grid">
                                    @foreach (var entity in CodingResult.ExtractedEntities)
                                    {
                                        <div class="entity-card @entity.Type.ToLower()">
                                            <div class="entity-header">
                                                <span class="entity-type">@entity.Type</span>
                                                <span class="entity-confidence">@entity.Confidence.ToString("F1")%</span>
                                            </div>
                                            <div class="entity-text">@entity.Text</div>
                                            @if (!string.IsNullOrEmpty(entity.Context))
                                            {
                                                <div class="entity-context">
                                                    <small class="text-muted">Context: @entity.Context</small>
                                                </div>
                                            }
                                        </div>
                                    }
                                </div>
                            </div>
                        }
                    </div>
                </div>

                <div class="coding-insights">
                    <h5>AI Coding Insights</h5>
                    <div class="insights-list">
                        @foreach (var insight in CodingResult.Insights)
                        {
                            <div class="insight-item @insight.Type.ToLower()">
                                <div class="insight-icon">
                                    @if (insight.Type == "Warning")
                                    {
                                        <i class="fas fa-exclamation-triangle"></i>
                                    }
                                    else if (insight.Type == "Suggestion")
                                    {
                                        <i class="fas fa-lightbulb"></i>
                                    }
                                    else
                                    {
                                        <i class="fas fa-info-circle"></i>
                                    }
                                </div>
                                <div class="insight-content">
                                    <div class="insight-title">@insight.Title</div>
                                    <div class="insight-message">@insight.Message</div>
                                </div>
                            </div>
                        }
                    </div>
                </div>

                <div class="action-buttons-footer">
                    <SfButton CssClass="e-success" @onclick="ApproveAllCodes">
                        <i class="fas fa-check-double"></i> Approve All Codes
                    </SfButton>
                    <SfButton CssClass="e-outline-primary" @onclick="ExportCodes">
                        <i class="fas fa-file-export"></i> Export to Billing System
                    </SfButton>
                    <SfButton CssClass="e-outline-secondary" @onclick="SaveDraft">
                        <i class="fas fa-save"></i> Save as Draft
                    </SfButton>
                </div>
            </div>
        }
    </div>

    <div class="coding-capabilities">
        <h5>Automated Coding Capabilities</h5>
        <div class="capabilities-grid">
            <div class="capability-card">
                <div class="capability-icon">
                    <i class="fas fa-brain"></i>
                </div>
                <h6>NLP-Powered Analysis</h6>
                <p>Advanced natural language processing extracts diagnoses, procedures, and clinical concepts from unstructured text</p>
                <ul>
                    <li>97.3% accuracy on diagnosis coding</li>
                    <li>95.8% accuracy on procedure coding</li>
                    <li>Real-time processing under 3 seconds</li>
                </ul>
            </div>
            <div class="capability-card">
                <div class="capability-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <h6>Compliance & Guidelines</h6>
                <p>Built-in validation against CMS guidelines, LCD/NCD policies, and coding rules</p>
                <ul>
                    <li>ICD-10-CM/PCS 2024 codes</li>
                    <li>CPT 2024 codes with modifiers</li>
                    <li>Medicare NCCI edits checking</li>
                </ul>
            </div>
            <div class="capability-card">
                <div class="capability-icon">
                    <i class="fas fa-robot"></i>
                </div>
                <h6>Machine Learning</h6>
                <p>Continuously improving AI models trained on millions of coded encounters</p>
                <ul>
                    <li>Specialty-specific models (EM, Surgery, Radiology)</li>
                    <li>Context-aware code selection</li>
                    <li>Hierarchical Condition Category (HCC) optimization</li>
                </ul>
            </div>
            <div class="capability-card">
                <div class="capability-icon">
                    <i class="fas fa-dollar-sign"></i>
                </div>
                <h6>Revenue Optimization</h6>
                <p>Identifies missed revenue opportunities and ensures complete documentation capture</p>
                <ul>
                    <li>Suggests additional billable codes</li>
                    <li>Highlights under-documented conditions</li>
                    <li>DRG optimization recommendations</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<style>
    .n360-automated-coding {
        padding: 1rem;
    }

    .coding-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 2rem;
        padding-bottom: 1rem;
        border-bottom: 2px solid #e0e0e0;
    }

    .header-right {
        display: flex;
        align-items: center;
        gap: 1rem;
    }

    .coding-interface {
        margin-bottom: 2rem;
    }

    .documentation-input {
        background: white;
        padding: 2rem;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        margin-bottom: 2rem;
    }

    .input-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
    }

    .input-header h5 {
        margin: 0;
        color: #333;
    }

    .documentation-textarea {
        min-height: 250px;
        font-family: 'Courier New', monospace;
        font-size: 0.95rem;
    }

    .char-count {
        text-align: right;
        font-size: 0.85rem;
        color: #999;
        margin-top: 0.5rem;
    }

    .analyze-button-container {
        text-align: center;
        margin-top: 1.5rem;
    }

    .analysis-progress {
        background: white;
        padding: 2rem;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        margin-bottom: 2rem;
    }

    .progress-steps {
        display: flex;
        justify-content: space-between;
        position: relative;
    }

    .progress-step {
        flex: 1;
        text-align: center;
        position: relative;
        opacity: 0.3;
        transition: opacity 0.3s;
    }

    .progress-step.active {
        opacity: 1;
    }

    .step-icon {
        width: 60px;
        height: 60px;
        margin: 0 auto 1rem;
        border-radius: 50%;
        background: #e0e0e0;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        color: #999;
        transition: all 0.3s;
    }

    .progress-step.active .step-icon {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        animation: pulse 1s infinite;
    }

    .step-label {
        font-size: 0.9rem;
        color: #666;
        font-weight: 600;
    }

    .coding-results {
        background: white;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        overflow: hidden;
    }

    .results-summary {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
        padding: 2rem;
        background: linear-gradient(135deg, #667eea, #764ba2);
    }

    .summary-card {
        display: flex;
        align-items: center;
        gap: 1.5rem;
        padding: 1.5rem;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 12px;
    }

    .summary-card .card-icon {
        width: 70px;
        height: 70px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
        color: white;
    }

    .summary-card.icd .card-icon { background: linear-gradient(135deg, #2196F3, #64B5F6); }
    .summary-card.cpt .card-icon { background: linear-gradient(135deg, #4CAF50, #81C784); }
    .summary-card.confidence .card-icon { background: linear-gradient(135deg, #FF9800, #FFB74D); }
    .summary-card.processing .card-icon { background: linear-gradient(135deg, #9C27B0, #BA68C8); }

    .card-value {
        font-size: 2.5rem;
        font-weight: bold;
        color: #333;
        line-height: 1;
    }

    .card-label {
        font-size: 1rem;
        color: #666;
        font-weight: 600;
        margin-top: 0.5rem;
    }

    .card-subtext {
        font-size: 0.85rem;
        color: #999;
        margin-top: 0.25rem;
    }

    .codes-section {
        padding: 2rem;
    }

    .nav-tabs {
        border-bottom: 2px solid #e0e0e0;
        margin-bottom: 2rem;
    }

    .nav-tabs .nav-link {
        border: none;
        color: #666;
        padding: 0.75rem 1.5rem;
        cursor: pointer;
        background: none;
    }

    .nav-tabs .nav-link.active {
        color: #667eea;
        border-bottom: 3px solid #667eea;
        font-weight: 600;
    }

    .codes-grid {
        margin-bottom: 2rem;
    }

    .grid-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
    }

    .grid-header h5 {
        margin: 0;
    }

    .badge-primary {
        background: #2196F3;
        color: white;
        padding: 0.35rem 0.75rem;
        border-radius: 12px;
        font-size: 0.85rem;
    }

    .badge-secondary {
        background: #9E9E9E;
        color: white;
        padding: 0.35rem 0.75rem;
        border-radius: 12px;
        font-size: 0.85rem;
    }

    .confidence-indicator {
        text-align: center;
    }

    .action-buttons {
        display: flex;
        gap: 0.25rem;
    }

    .entities-section {
        padding: 1rem 0;
    }

    .entities-section h5 {
        margin-bottom: 1.5rem;
    }

    .entities-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 1rem;
    }

    .entity-card {
        padding: 1rem;
        border-radius: 8px;
        border-left: 4px solid;
    }

    .entity-card.diagnosis { background: #e3f2fd; border-color: #2196F3; }
    .entity-card.procedure { background: #e8f5e9; border-color: #4CAF50; }
    .entity-card.medication { background: #fff3e0; border-color: #FF9800; }
    .entity-card.symptom { background: #f3e5f5; border-color: #9C27B0; }
    .entity-card.anatomy { background: #fce4ec; border-color: #E91E63; }

    .entity-header {
        display: flex;
        justify-content: space-between;
        margin-bottom: 0.5rem;
    }

    .entity-type {
        font-weight: 600;
        font-size: 0.85rem;
        text-transform: uppercase;
        color: #666;
    }

    .entity-confidence {
        font-size: 0.85rem;
        color: #999;
    }

    .entity-text {
        font-size: 1.05rem;
        color: #333;
        font-weight: 500;
        margin-bottom: 0.5rem;
    }

    .entity-context {
        padding-top: 0.5rem;
        border-top: 1px solid rgba(0,0,0,0.1);
    }

    .coding-insights {
        padding: 2rem;
        background: #f9f9f9;
        border-top: 2px solid #e0e0e0;
    }

    .coding-insights h5 {
        margin-bottom: 1.5rem;
        color: #333;
    }

    .insights-list {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .insight-item {
        display: flex;
        gap: 1rem;
        padding: 1rem;
        background: white;
        border-radius: 8px;
        border-left: 4px solid;
    }

    .insight-item.warning { border-color: #FF9800; }
    .insight-item.suggestion { border-color: #2196F3; }
    .insight-item.info { border-color: #4CAF50; }

    .insight-icon {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        font-size: 1.2rem;
    }

    .insight-item.warning .insight-icon { background: #fff3e0; color: #FF9800; }
    .insight-item.suggestion .insight-icon { background: #e3f2fd; color: #2196F3; }
    .insight-item.info .insight-icon { background: #e8f5e9; color: #4CAF50; }

    .insight-content {
        flex: 1;
    }

    .insight-title {
        font-weight: 600;
        color: #333;
        margin-bottom: 0.25rem;
    }

    .insight-message {
        color: #666;
        font-size: 0.95rem;
    }

    .action-buttons-footer {
        display: flex;
        justify-content: center;
        gap: 1rem;
        padding: 2rem;
        border-top: 2px solid #e0e0e0;
    }

    .coding-capabilities {
        background: white;
        border-radius: 8px;
        padding: 2rem;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .coding-capabilities h5 {
        margin-bottom: 2rem;
        color: #333;
    }

    .capabilities-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 2rem;
    }

    .capability-card {
        padding: 1.5rem;
        background: #f9f9f9;
        border-radius: 8px;
    }

    .capability-icon {
        width: 70px;
        height: 70px;
        margin-bottom: 1rem;
        border-radius: 50%;
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
    }

    .capability-card h6 {
        margin-bottom: 0.75rem;
        color: #333;
        font-weight: 600;
    }

    .capability-card p {
        color: #666;
        margin-bottom: 1rem;
        font-size: 0.95rem;
    }

    .capability-card ul {
        margin: 0;
        padding-left: 1.5rem;
    }

    .capability-card li {
        color: #666;
        font-size: 0.9rem;
        margin-bottom: 0.25rem;
    }
</style>
