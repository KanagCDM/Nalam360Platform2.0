@page "/components"
@inject NavigationManager Navigation

<PageTitle>Components - Nalam360 Enterprise UI</PageTitle>

<div class="components-page">
    <div class="page-header">
        <h1>Components</h1>
        <p>Browse all 144+ production-ready components</p>
        
        <div class="search-box">
            <input type="text" 
                   placeholder="Search components..." 
                   @bind="searchQuery" 
                   @bind:event="oninput"
                   class="search-input" />
        </div>

        <div class="filter-tabs">
            <button class="filter-tab @(selectedCategory == "all" ? "active" : "")" 
                    @onclick='() => SetCategory("all")'>
                All Components
            </button>
            <button class="filter-tab @(selectedCategory == "input" ? "active" : "")" 
                    @onclick='() => SetCategory("input")'>
                Input (27)
            </button>
            <button class="filter-tab @(selectedCategory == "data" ? "active" : "")" 
                    @onclick='() => SetCategory("data")'>
                Data (15)
            </button>
            <button class="filter-tab @(selectedCategory == "charts" ? "active" : "")" 
                    @onclick='() => SetCategory("charts")'>
                Charts (8)
            </button>
            <button class="filter-tab @(selectedCategory == "healthcare" ? "active" : "")" 
                    @onclick='() => SetCategory("healthcare")'>
                Healthcare (26)
            </button>
            <button class="filter-tab @(selectedCategory == "ai" ? "active" : "")" 
                    @onclick='() => SetCategory("ai")'>
                AI-Powered (18)
            </button>
        </div>
    </div>

    <div class="components-grid">
        @foreach (var component in FilteredComponents)
        {
            <a href="/components/@component.Name" class="component-card">
                <div class="component-icon">@component.Icon</div>
                <h3>@component.Name</h3>
                <p>@component.Description</p>
                <div class="component-badges">
                    <span class="badge">@component.Category</span>
                    @if (component.IsNew)
                    {
                        <span class="badge badge-new">New</span>
                    }
                    @if (component.IsAIPowered)
                    {
                        <span class="badge badge-ai">AI</span>
                    }
                </div>
            </a>
        }
    </div>
</div>

@code {
    private string searchQuery = string.Empty;
    private string selectedCategory = "all";

    private List<ComponentInfo> AllComponents => new()
    {
        // Input Components (27)
        new("N360Button", "input", "Flexible button with multiple variants and states", "ğŸ”˜", true),
        new("N360TextBox", "input", "Text input with validation and formatting", "ğŸ“"),
        new("N360NumericTextBox", "input", "Numeric input with formatting and validation", "ğŸ”¢"),
        new("N360DatePicker", "input", "Date selection with calendar popup", "ğŸ“…"),
        new("N360TimePicker", "input", "Time selection component", "ğŸ•"),
        new("N360DateTimePicker", "input", "Combined date and time picker", "ğŸ“†"),
        new("N360DropDownList", "input", "Dropdown selection component", "â–¼"),
        new("N360ComboBox", "input", "Autocomplete combo box", "ğŸ“‹"),
        new("N360MultiSelect", "input", "Multiple selection dropdown", "â˜‘ï¸"),
        new("N360AutoComplete", "input", "Auto-complete text input", "ğŸ”"),
        new("N360CheckBox", "input", "Checkbox input component", "âœ“"),
        new("N360RadioButton", "input", "Radio button selection", "â—‰"),
        new("N360Switch", "input", "Toggle switch component", "ğŸ”„"),
        new("N360Slider", "input", "Range slider input", "ğŸ“"),
        new("N360ColorPicker", "input", "Color selection component", "ğŸ¨"),
        new("N360FileUpload", "input", "File upload with drag and drop", "ğŸ“¤"),
        new("N360Rating", "input", "Star rating component", "â­"),
        new("N360SignaturePad", "input", "Digital signature capture", "âœï¸"),
        new("N360MaskedTextBox", "input", "Masked input with format", "ğŸ­"),
        new("N360RichTextEditor", "input", "WYSIWYG text editor", "ğŸ“„"),
        new("N360MarkdownEditor", "input", "Markdown text editor", "ğŸ“"),
        new("N360CodeEditor", "input", "Syntax-highlighted code editor", "ğŸ’»"),
        new("N360ChipList", "input", "Chip/tag selection component", "ğŸ·ï¸"),
        new("N360ButtonGroup", "input", "Grouped buttons", "â–¦"),
        new("N360FAB", "input", "Floating action button", "âŠ•"),
        new("N360ToggleButton", "input", "Toggle button component", "â¯ï¸"),
        new("N360SearchBox", "input", "Search input with suggestions", "ğŸ”"),

        // Data Display Components (15)
        new("N360Grid", "data", "Advanced data grid with server-side features", "ğŸ“Š"),
        new("N360TreeGrid", "data", "Hierarchical tree grid", "ğŸŒ³"),
        new("N360Pivot", "data", "Pivot table component", "â—«"),
        new("N360ListView", "data", "List view with templates", "ğŸ“ƒ"),
        new("N360DataTable", "data", "Enterprise data table", "ğŸ“‹"),
        new("N360VirtualScroll", "data", "Virtual scrolling list", "â¬‡ï¸"),
        new("N360Timeline", "data", "Timeline visualization", "ğŸ“ˆ"),
        new("N360Gantt", "data", "Gantt chart component", "ğŸ“Š"),
        new("N360TreeView", "data", "Tree navigation component", "ğŸŒ²"),
        new("N360Spreadsheet", "data", "Excel-like spreadsheet", "ğŸ“Š"),
        new("N360QueryBuilder", "data", "Visual query builder", "ğŸ”"),
        new("N360FileManager", "data", "File browser and manager", "ğŸ“"),
        new("N360Badge", "data", "Badge/label component", "ğŸ·ï¸"),
        new("N360Chip", "data", "Chip display component", "ğŸ«"),
        new("N360Avatar", "data", "User avatar component", "ğŸ‘¤"),

        // Charts & Visualizations (8)
        new("N360Chart", "charts", "Multi-type charting component", "ğŸ“ˆ"),
        new("N360Dashboard", "charts", "Dashboard layout component", "ğŸ“Š"),
        new("N360KPI", "charts", "KPI display widget", "ğŸ“Š", true),
        new("N360Gauge", "charts", "Circular gauge component", "â²ï¸"),
        new("N360Heatmap", "charts", "Data heatmap visualization", "ğŸ”¥"),
        new("N360DiagramEditor", "charts", "Diagram creation tool", "ğŸ”·"),
        new("N360Sparkline", "charts", "Inline sparkline charts", "ğŸ“‰"),
        new("N360BulletChart", "charts", "Bullet chart component", "â–¶ï¸"),

        // Healthcare Components (26)
        new("N360PatientCard", "healthcare", "Patient information card", "ğŸ¥"),
        new("N360VitalSignsInput", "healthcare", "Vital signs data entry", "ğŸ’“"),
        new("N360AppointmentScheduler", "healthcare", "Medical appointment scheduling", "ğŸ“…"),
        new("N360MedicalHistory", "healthcare", "Patient medical history viewer", "ğŸ“‹"),
        new("N360PrescriptionWriter", "healthcare", "Electronic prescription form", "ğŸ’Š"),
        new("N360LabResults", "healthcare", "Laboratory results display", "ğŸ”¬"),
        new("N360RadiologyViewer", "healthcare", "Medical imaging viewer", "ğŸ–¼ï¸"),
        new("N360DiagnosisCodePicker", "healthcare", "ICD-10 code selector", "ğŸ·ï¸"),
        new("N360DrugInteractionChecker", "healthcare", "Medication interaction validator", "âš ï¸"),
        new("N360TreatmentPlan", "healthcare", "Treatment plan manager", "ğŸ“"),
        new("N360ClinicalNotes", "healthcare", "Clinical notes editor", "ğŸ“„"),
        new("N360Immunization", "healthcare", "Vaccination record tracker", "ğŸ’‰"),
        new("N360AllergyTracker", "healthcare", "Patient allergy management", "ğŸš«"),
        new("N360BedManagement", "healthcare", "Hospital bed allocation", "ğŸ›ï¸"),
        new("N360SurgeryScheduler", "healthcare", "Operating room scheduler", "âš•ï¸"),
        new("N360EmergencyTriage", "healthcare", "ER triage assessment", "ğŸš¨"),
        new("N360DischargeInstructions", "healthcare", "Patient discharge forms", "ğŸ“‹"),
        new("N360ConsentForm", "healthcare", "Medical consent management", "âœï¸"),
        new("N360InsuranceVerification", "healthcare", "Insurance validation", "ğŸ’³"),
        new("N360ReferralManager", "healthcare", "Patient referral tracking", "â¡ï¸"),
        new("N360TelemedicineConsole", "healthcare", "Virtual care interface", "ğŸ’»"),
        new("N360HealthRiskAssessment", "healthcare", "Risk assessment questionnaire", "ğŸ“Š"),
        new("N360CareCoordination", "healthcare", "Care team collaboration", "ğŸ‘¥"),
        new("N360PatientPortal", "healthcare", "Patient self-service portal", "ğŸ¥"),
        new("N360MedicationAdministration", "healthcare", "MAR tracking system", "ğŸ’Š"),
        new("N360VitalSignsMonitor", "healthcare", "Real-time vitals monitoring", "ğŸ’—"),

        // AI-Powered Components (18)
        new("N360SmartChat", "ai", "AI healthcare chatbot", "ğŸ’¬", false, true),
        new("N360ClinicalDecisionSupport", "ai", "AI-powered clinical recommendations", "ğŸ§ ", false, true),
        new("N360PredictiveAnalytics", "ai", "ML-based patient outcome predictions", "ğŸ”®", false, true),
        new("N360DrugRecommendation", "ai", "AI medication suggestions", "ğŸ’Š", false, true),
        new("N360RiskStratification", "ai", "ML patient risk scoring", "âš ï¸", false, true),
        new("N360DiagnosticAssistant", "ai", "AI differential diagnosis helper", "ğŸ¥", false, true),
        new("N360ImageAnalysis", "ai", "Medical image AI analysis", "ğŸ–¼ï¸", false, true),
        new("N360NaturalLanguageSearch", "ai", "AI-powered medical record search", "ğŸ”", false, true),
        new("N360SentimentAnalysis", "ai", "Patient feedback sentiment analysis", "ğŸ˜Š", false, true),
        new("N360AutoDocumentation", "ai", "AI clinical note generation", "ğŸ“", false, true),
        new("N360ReadmissionPredictor", "ai", "ML readmission risk prediction", "ğŸ“Š", false, true),
        new("N360AnomalyDetection", "ai", "Anomaly detection in vitals", "ğŸš¨", false, true),
        new("N360PatientClassification", "ai", "ML patient categorization", "ğŸ“‹", false, true),
        new("N360TrendAnalysis", "ai", "Healthcare trend forecasting", "ğŸ“ˆ", false, true),
        new("N360SmartScheduling", "ai", "AI-optimized appointment scheduling", "ğŸ“…", false, true),
        new("N360VoiceToText", "ai", "Medical voice transcription", "ğŸ¤", false, true),
        new("N360CodingAssistant", "ai", "AI medical coding suggestions", "ğŸ·ï¸", false, true),
        new("N360ResourceOptimization", "ai", "ML resource allocation", "ğŸ¯", false, true),

        // Navigation & Layout Components (13)
        new("N360Sidebar", "input", "Collapsible sidebar navigation", "â˜°"),
        new("N360AppBar", "input", "Application top bar", "â–¬"),
        new("N360Tabs", "input", "Tabbed navigation component", "â–­"),
        new("N360Breadcrumb", "input", "Breadcrumb navigation trail", "â†’"),
        new("N360Menu", "input", "Context menu component", "â˜°"),
        new("N360ContextMenu", "input", "Right-click context menu", "â‹®"),
        new("N360Toolbar", "input", "Action toolbar component", "ğŸ”§"),
        new("N360Stepper", "input", "Multi-step form wizard", "â‘ â‘¡â‘¢"),
        new("N360Accordion", "input", "Expandable accordion panels", "â–¼"),
        new("N360Carousel", "input", "Image/content carousel", "âŸ¨âŸ©"),
        new("N360Drawer", "input", "Slide-out drawer panel", "â˜°"),
        new("N360BottomSheet", "input", "Bottom sheet modal", "â–¬"),
        new("N360Navigation", "input", "Main navigation component", "ğŸ§­"),

        // Feedback & Notification Components (8)
        new("N360Toast", "input", "Toast notification", "ğŸ“¢"),
        new("N360Dialog", "input", "Modal dialog component", "ğŸ’¬"),
        new("N360Alert", "input", "Alert message component", "âš ï¸"),
        new("N360Snackbar", "input", "Snackbar notification", "ğŸ“£"),
        new("N360Tooltip", "input", "Tooltip overlay", "â„¹ï¸"),
        new("N360Progress", "input", "Progress indicator", "â³"),
        new("N360Skeleton", "input", "Loading skeleton", "â–¯"),
        new("N360Spinner", "input", "Loading spinner", "âŒ›"),

        // Enterprise Business Components (22)
        new("N360FormBuilder", "input", "Drag-and-drop form builder", "ğŸ“", true),
        new("N360WorkflowDesigner", "input", "Visual workflow builder", "ğŸ”„", true),
        new("N360ReportViewer", "data", "Report viewer and generator", "ğŸ“Š"),
        new("N360NotificationCenter", "input", "Notification management hub", "ğŸ””", true),
        new("N360UserDirectory", "data", "Employee directory", "ğŸ‘¥"),
        new("N360RoleManager", "input", "Role management interface", "ğŸ”"),
        new("N360AuditLog", "data", "Activity audit log viewer", "ğŸ“œ"),
        new("N360Settings", "input", "Application settings panel", "âš™ï¸"),
        new("N360ProfileEditor", "input", "User profile editor", "ğŸ‘¤"),
        new("N360ActivityLog", "data", "User activity timeline", "ğŸ“‹"),
        new("N360Calendar", "input", "Full calendar component", "ğŸ“…"),
        new("N360Scheduler", "input", "Resource scheduler", "ğŸ—“ï¸"),
        new("N360Kanban", "data", "Kanban board component", "â–¦"),
        new("N360TaskManager", "input", "Task management interface", "âœ“"),
        new("N360ProjectPlanner", "input", "Project planning tool", "ğŸ“Š"),
        new("N360TeamCollaboration", "input", "Team collaboration hub", "ğŸ‘¥", true),
        new("N360DocumentEditor", "input", "Collaborative document editor", "ğŸ“„", true),
        new("N360Inbox", "data", "Message inbox component", "ğŸ“¬"),
        new("N360MultiStepForm", "input", "Complex multi-step form", "â‘ â‘¡â‘¢"),
        new("N360Wizard", "input", "Setup wizard component", "ğŸ§™"),
        new("N360Survey", "input", "Survey form builder", "ğŸ“‹"),
        new("N360Poll", "input", "Polling component", "ğŸ“Š"),
    };

    private IEnumerable<ComponentInfo> FilteredComponents =>
        AllComponents.Where(c =>
            (selectedCategory == "all" || c.Category.ToLower() == selectedCategory) &&
            (string.IsNullOrEmpty(searchQuery) || 
             c.Name.Contains(searchQuery, StringComparison.OrdinalIgnoreCase) ||
             c.Description.Contains(searchQuery, StringComparison.OrdinalIgnoreCase))
        );

    private void SetCategory(string category)
    {
        selectedCategory = category;
    }

    private record ComponentInfo(
        string Name,
        string Category,
        string Description,
        string Icon,
        bool IsNew = false,
        bool IsAIPowered = false
    );
}

<style>
    .components-page {
        max-width: 1400px;
        margin: 0 auto;
        padding: 2rem;
    }

    .page-header {
        margin-bottom: 3rem;
    }

    .page-header h1 {
        font-size: 3rem;
        font-weight: 800;
        margin-bottom: 0.5rem;
    }

    .page-header p {
        font-size: 1.25rem;
        color: #6b7280;
        margin-bottom: 2rem;
    }

    .search-box {
        margin-bottom: 2rem;
    }

    .search-input {
        width: 100%;
        max-width: 600px;
        padding: 1rem;
        font-size: 1.125rem;
        border: 2px solid #e5e7eb;
        border-radius: 0.5rem;
        transition: border-color 0.2s;
    }

    .search-input:focus {
        outline: none;
        border-color: #667eea;
    }

    .filter-tabs {
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
        margin-bottom: 2rem;
    }

    .filter-tab {
        padding: 0.75rem 1.5rem;
        border: 2px solid #e5e7eb;
        background: white;
        border-radius: 0.5rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s;
    }

    .filter-tab:hover {
        border-color: #667eea;
        color: #667eea;
    }

    .filter-tab.active {
        background: #667eea;
        color: white;
        border-color: #667eea;
    }

    .components-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 1.5rem;
    }

    .component-card {
        background: white;
        border: 2px solid #e5e7eb;
        border-radius: 1rem;
        padding: 2rem;
        text-decoration: none;
        color: inherit;
        transition: all 0.2s;
    }

    .component-card:hover {
        border-color: #667eea;
        transform: translateY(-3px);
        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.1);
    }

    .component-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
    }

    .component-card h3 {
        font-size: 1.5rem;
        margin-bottom: 0.5rem;
    }

    .component-card p {
        color: #6b7280;
        margin-bottom: 1rem;
        line-height: 1.6;
    }

    .component-badges {
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
    }

    .badge {
        padding: 0.25rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 600;
        background: #f3f4f6;
        color: #374151;
    }

    .badge-new {
        background: #10b981;
        color: white;
    }

    .badge-ai {
        background: #8b5cf6;
        color: white;
    }
</style>
